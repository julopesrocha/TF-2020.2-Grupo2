<ion-header>
    <ion-toolbar>
        <img src="../../assets/logo.png">
    </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="image">

    <form [formGroup]="searchForm" (ngSubmit)="submitForm(searchForm)">

        <ion-grid>
            <ion-row>

                <ion-col size="9">
                    <ion-item>
                        <ion-input formControlName="filter" placeholder="Pesquise aqui"></ion-input>
                    </ion-item>
                </ion-col>

                <ion-col class="search_button_container">
                    <ion-button class="search_button" type="submit" [disabled]="searchForm.invalid">
                        <ion-icon name="search"></ion-icon>
                    </ion-button>
                </ion-col>

            </ion-row>
        </ion-grid>

    </form>

    <app-post *ngFor="let post of posts" [title]="post.course" [teacher]="post.teacher" [user]="post.user.name" [text]="post.content" [tag]="post.tag" [likes]="post.liked_count" [id]="post.id"></app-post>

    <ion-card *ngFor="let user of users" >

        <app-userinfo [photo]="user.photo" [id]="user.id" [name]="user.name" [degree]="user.degree"></app-userinfo>
        
        <div *ngIf="user.followers">
            <ion-button *ngIf="user.followers.length == 0" (click)="followUser(user.id)" class="follow-button"><ion-icon class="icon-button" name="heart-outline"></ion-icon>Seguir</ion-button>
            <ion-button *ngIf="user.followers.length == 1" (click)="followUser(user.id)" class="follow-button"><ion-icon class="icon-button" name="heart-outline"></ion-icon>Deixar de seguir</ion-button>    
        </div>

        <div *ngIf="!user.followers">
            <ion-button class="follow-button"><ion-icon class="icon-button" name="heart-outline"></ion-icon>Seguir</ion-button>
        </div>

    </ion-card>




</ion-content>
